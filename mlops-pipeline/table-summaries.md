# MLOps BigQuery Tables Summary

This document provides an overview of the BigQuery tables used in the MLOps pipeline for managing and tracking models, their evaluation metrics, parameters, and predictions.

---

## Table: `ba882-group-10.cdc_data.model_runs`

**Description**: Contains metadata about trained models.

**Fields**:
- `model_id`: Unique identifier for each model.
- `name`: The model type (e.g., `"SARIMA Model"`).
- `gcs_path`: Google Cloud Storage path where model files are located (e.g., `"gs://ba882-group-10-mlops/pipeline"`).
- `model_path`: Specific GCS path for the model file associated with the `model_id` (e.g., `"gs://ba882-group-10-mlops/pipeline/model_for_370/202412012311-08e7f6a4-7752-4564-bba3-9973a8eee9ee.joblib"`).
- `disease_code`: Disease code (as a `STRING`) for which the model was trained (e.g., `"370"`).
- `created_at`: A `TIMESTAMP` value indicating when the model was trained.

---

## Table: `ba882-group-10.cdc_data.model_metrics`

**Description**: Stores evaluation metrics for each trained model. Each record corresponds to one metric for a specific model.

**Fields**:
- `model_id`: Unique identifier linking the metric to a specific model.
- `metric_name`: The type of metric, with possible values:
  - `"r2"`: R-Squared
  - `"mae"`: Mean Absolute Error
  - `"mse"`: Mean Squared Error
- `metric_value`: The `FLOAT` value of the respective metric.

---

## Table: `ba882-group-10.cdc_data.model_parameters`

**Description**: Contains the hyperparameter values used to train each model.

**Fields**:
- `model_id`: Unique identifier linking the parameters to a specific model.
- `parameter_name`: Name of the hyperparameter. Possible values:
  - `"order"`: SARIMA order in the format `(p,d,q)`.
  - `"seasonal_order"`: SARIMA seasonal order in the format `(P,D,Q,s)`.
- `parameter_value`: The value of the hyperparameter (e.g., `"(1,1,1)"` for `order` or `"(0,1,1,12)"` for `seasonal_order`).

---

## Table: `ba882-group-10.cdc_data.predictions`

**Description**: Stores predictions generated by the trained models. Each record represents one prediction.

**Fields**:
- `model_id`: Unique identifier linking the prediction to a specific model.
- `inference_date`: A `DATETIME` value indicating when the prediction was made.
- `date`: A `DATE` value specifying the time period the prediction is for.
- `predicted_occurrence`: A `FLOAT` indicating the predicted value.
- `disease_code`: The `STRING` value of the disease code for the prediction.

---

This structured layout ensures clarity and accessibility, providing a detailed reference for each table and its role in the pipeline.
